<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let Name = typeName();
    let IdCard = typeIdcard();
    let Birthday = typeBirthday();
    let Email = typeEmail();
    let Address = prompt("Enter Address Customer");
    let Type = prompt("Enter Type Customer");
    let Discount = typeDiscount();
    let NOA = typeACPN();       //"Enter Number Of Acccompannying:"
    let TypeRoom = prompt("Enter Type Room");
    let RentDay = typeRentday();
    let TypeSevice = prompt("Enter Type Sevice");

    alert("Information Of Customer" + "\n"
        + "Name Customer:" + " " + Name + "\n"
        + "Id Card Customer:" + " " + IdCard + "\n"
        + "Birthday Customer:" + " " + Birthday + "\n"
        + "Email Customer:" + " " + Email + "\n"
        + "Address Customer:" + " " + Address + "\n"
        + "Type Customer:" + " " + Type + "\n"
        + "Discount:" + " " + Discount + "\n"
        + "Number Of Accompanying:" + " " + NOA + "\n"
        + "Type Room:" + " " + TypeRoom + "\n"
        + "Rent Day:" + " " + RentDay + "\n"
        + "Type Sevice:" + " " + TypeSevice + "\n"
    );

    //HÀM NHẬP VÀ KIỂM TRA TÍNH HỢP LỆ CỦA ID CARD
    function typeIdcard() {
        let isIdNumber = prompt("Enter Id Customer :");
        while ((isIdNumber.length != 9) || !Number.isInteger(parseFloat(isIdNumber))) {
            alert("Id Card Is Invalid!!Please Try Again")
            isIdNumber = prompt("Enter Id Card Customer :")
        }
        return isIdNumber;
    }

    //HÀM NHẬP VÀ KIỂM TRA TÍNH HỢP LỆ CỦA EMAIL
    function typeEmail() {
        let isEmail;
        let inValid = true;
        while (inValid) {
            isEmail = prompt("Enter Email Customer");
            isEmail = isEmail.trim();
            let Index1 = isEmail.indexOf("@");
            let Valid1 = (Index1 != -1) && (Index1 != 0);//mail phải có dấu @ và kí tự tiên khác "@"
            Index1 = isEmail.indexOf("@", Index1 + 1);//trong mai không được có hơn 2 "@"
            let Valid2 = (Index1 == -1);
            let Index2 = isEmail.indexOf(".", Index1 + 1);//sau @ phải có dấu "."
            let Valid3 = (Index2 != -1)&&(Index2 > Index1 + 2);//dấu "." phải cách @ hơn 2 kí tự;
            let Valid4=isEmail[isEmail.length-1]!=".";  //kí tự cuối phải khác dấu "."
            if (Valid1 && Valid2 && Valid3&&Valid4) {
                inValid = false;
            } else {
                alert("Email Is Invalid!!Please Try Again \n Example: abc@abc.abc")
            }
        }
        return isEmail;
    }
    //HÀM NHẬP VÀ KIỂM TRA TÍNH HỢP LỆ CỦA NGÀY SINH  DD/MM/YYYY
    function typeBirthday() {
        let inValid = true;
        let birthDay;
        while (inValid) {
            birthDay = prompt("Enter Birthday Of Customer");
            let day = birthDay.substring(0, 2);
            let month = birthDay.substring(3, 5);
            let year = birthDay.substring(6, 10);
            let Valid1=true;
            Valid1 &=(!isNaN(day));  //KIỂM TRA NGÀY-THÁNG-NĂM CÓ PHẢI LÀ SỐ THỰC HAY KHÔNG
            Valid1 &=(!isNaN(month));
            Valid1 &=(!isNaN(year));
            day = parseFloat(day);
            month = parseFloat(month);
            year = parseFloat(year);
            //NGÀY THÁNG NĂM SINH PHẢI LÀ SỐ NGUYÊN
            let Valid2 = (Number.isInteger(day)) && (Number.isInteger(month))&& (Number.isInteger(year));
            let Valid3 = (day > 0) && (month > 0) && (year > 0);//PHẢI LÀ SỐ LỚN HƠN 0
            let Valid4 = (birthDay[2] == "/") && (birthDay[5] == "/")
            if (Valid1 && Valid2 && Valid3&&Valid4) {
                inValid = false;
            } else {
                alert("Birthday Is Invalid!!Please Try Again \n Example: DD/MM/YYYY");
                inValid = true;
            }
        }
        return birthDay;
    }
    //NHẬP VÀ KIỂM TRA RENTDAY

    function typeRentday() {
        let inValid=true;
        let rentDay;
        while(inValid){
            rentDay=prompt("Enter Rent Day");
            let Valid1=!isNaN(rentDay);//kiểm tra số vừa nhập có phải là một số thực hay không;
            rentDay=parseFloat(rentDay);
            let Valid2=(Number.isInteger(rentDay))&&(rentDay>0);//kiểm tra số vừa nhập có phải là một số thực hay không;
            if(Valid1&&Valid2){
                inValid=false;
            }
            else {
                alert("Rent Day Is Invalid!!Please Try Again");
            }
        }
        return rentDay;
    }
    //NHẬP VÀ KIỂM TRA DISCOUNT
    function typeDiscount() {
        let inValid=true;
        let Discount;
        while(inValid){
            Discount=prompt("Enter Discount");
            let Valid1=!isNaN(Discount); //kiểm tra số vừa nhập có phải là một số thực hay không;
            let temp=parseFloat(Discount);
            let Valid2=Number.isInteger(temp)&&(temp>0) ;//kiểm tra số vừa nhập có phải là một số thực hay không;
            if(Valid1&&Valid2){
                inValid=false;
            }
            else {
                alert("Discount Is Invalid!!Please Try Again");
            }
        }
        return Discount;
    }
    //NHẬP VÀ KIỂM TRA Acccompannying
    function typeACPN() {
        let inValid = true;
        let ACPNvalue;
        while (inValid) {
            ACPNvalue = prompt("Enter Number Of Acccompannying:");
            let Valid1=!isNaN(ACPNvalue);            //kiểm tra số vừa nhập có phải là một số thực hay không;
            ACPNvalue = parseFloat(ACPNvalue);
            let Valid2=(Number.isInteger(ACPNvalue)) && (ACPNvalue > 0);//kiểm tra số vừa nhập có phải số nguyên lớn hơn 0;
            if (Valid1&&Valid2) {
                inValid = false;
            } else {
                alert("Acccompannying Is Invalid!!Please Try Again");
            }
        }
    }
    //NHẬP VÀ KIỂM TRA TÊN
    function typeName() {
        let Name="";
        let temp="";
        while(Name.length==0){
            Name=prompt("Name Of Customer");
            Name=Name.trim();
        }
        while (Name.indexOf(" ")!=-1)
        {
            let end =Name.indexOf(" ");
            let str=Name.substring(0,end);
            temp+=str[0].toUpperCase();
            temp+=str.substring(1,end).toLowerCase()+ ' ';
            Name=Name.substring(end,).trim();
        }
        temp+=Name[0].toUpperCase();
        temp+=Name.substring(1,).toLowerCase();
        return temp;
    }
</script>
</body>
</html>